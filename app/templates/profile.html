{% extends 'base.html' %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/profile.css') }}">
<a href="{{ url_for('dashboard') }}" class="btn btn-link">Back to Dashboard</a>

<div class="profile-container">
    <div class="profile-header">
        <div class="profile-picture">
            <!-- Display the user's photo or use a placeholder if none is available -->
            {% if user.photo %}
                <img src="{{ url_for('uploaded_file', filename=user.photo) }}" alt="Profile Photo" class="user-avatar-large">
            {% else %}
                <img src="https://via.placeholder.com/150" alt="Profile Photo" class="photo">
            {% endif %}
        </div>
        <div class="profile-info">
            <h1>{{ user.first_name }} {{ user.last_name }}</h1>
            <p><strong>Username:</strong> {{ user.username }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Role:</strong> {{ user.role }}</p>
            <p><strong>Date of Birth:</strong> {{ user.dob }}</p>
            <p><strong>Middle Name:</strong> {{ user.middle_name or 'N/A' }}</p>
            <p><strong>Account Created:</strong> {{ user.created_at.strftime('%B %d, %Y') }}</p>
            <p><strong>Last Updated:</strong> {{ user.updated_at.strftime('%B %d, %Y') if user.updated_at else 'Never' }}</p>
        </div>
    </div>

    <div class="profile-actions">
        <!-- Actions to edit profile and change password -->
        <a href="{{ url_for('edit_profile') }}" class="btn btn-primary">Edit Profile</a>
        <a href="{{ url_for('change_password') }}" class="btn btn-secondary">Change Password</a>
    </div>
    {% endblock %}
